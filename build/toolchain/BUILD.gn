toolchain("gcc") {
  toolchain_args = {
    cc = "g++"
  }

  tool("cxx") {
    command = "g++ -MMD -MF $out.d -c $in -o $out"
    depfile = "$out.d"
    description = "CXX $in"
    outputs = [ "$out" ]
  }

  tool("link") {
    command = "g++ -o $out $in $ldflags -lssl -lcrypto -lpthread"
    description = "LINK $out"
    outputs = [ "$out" ]
  }
}
